<html>
	<head>
		<title>Email Thumbnails - Chamaileon SDK</title>
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
		<link href="/css/style.css" rel="stylesheet">

		<style>
			#example {
				display: none;
			}

			#exampleJson {
				width: 48%;
				height: 300px;
			}

			#content {
				display: flex;
				justify-content: space-between;
			}

			#description {
				width: 48%;
			}

			#thumbnails {
				width: 50%;
			}

			#thumbnails-small {
				display: flex;
				flex-direction: row;
			}

			#showExample {
				display: none;
			}
		</style>
	</head>
	<body>
		<header>
			<a id="github-link" href="https://github.com/chamaileon-sdk/examples"><img loading="lazy" width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_left_white_ffffff.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
			<div id="logo-wrapper">
				<a href="/">
					<div id="logo"></div>
					<div id="logo-badge">SDK Examples</div>
				</a>
			</div>
			<button id="settings-button">Settings</button>
		</header>
		<main id="main">
			<h1>Email Thumbnails</h1>

			<section id="content">
				<textarea id="exampleJson">Loading...</textarea>
				<div id="description">
					<p>In this example, the JSON in the textarea on the left hand side will be loaded into the thumbnail plugin three times.</p>
					<p>The first one is a bigger thumbnail that is scrollable, the second and the third are smaller and non-scrollable.</p>
					<button id="showExample">Load Thumbnails</button>
				</div>
			</section>
			
			<section id="example">
				<div id="thumbnails">
					<div id="thumbnail-large"></div>
					<div id="thumbnails-small">
						<div id="thumbnail-small-1"></div>
						<div id="thumbnail-small-2"></div>
					</div>
				</div>
			</section>
		</main>
		<footer>
			All rights reserved.
			<div id="footer-logo"></div>
		</footer>

		<script src='https://plugins.chamaileon.io/static/chamaileonSdk.js'></script>
		<script src="/js/chamaileonLogo.js"></script>
		<script src="/js/initDemo.js"></script>
		<script src="/js/initChamaileonSDK.js"></script>
		<script>
			async function main() {
				const documentUrl = 'https://chamaileon-sdk.github.io/example-jsons/jsons/business-promo.json'
	
				const chamaileonPlugins = await initChamaileonSdk()
	
				const documentResponse = await fetch(documentUrl, { method: 'GET' })
				const documentJson = await documentResponse.json()

				document.getElementById('exampleJson').value = JSON.stringify(documentJson)

				const showExampleButton = document.getElementById('showExample')
				showExampleButton.style.display = 'inline-block'
				showExampleButton.onclick = () => {
					document.getElementById('example').style.display = 'flex'

					const containerLarge = document.getElementById('thumbnail-large')
					const containerSmall1 = document.getElementById('thumbnail-small-1')
					const containerSmall2 = document.getElementById('thumbnail-small-2')

					containerLarge.innerHTML = ''
					containerSmall1.innerHTML = ''
					containerSmall2.innerHTML = ''

					const documentJson = JSON.parse(document.getElementById('exampleJson').value)

					chamaileonPlugins.createThumbnail({
						emailJSON: documentJson.body,
						width: 640,
						height: 480,
						scale: 1,
						scroll: true,
						container: containerLarge
					})

					chamaileonPlugins.createThumbnail({
						emailJSON: documentJson.body,
						width: 640,
						height: 480,
						scale: 0.5,
						container: containerSmall1
					})

					chamaileonPlugins.createThumbnail({
						emailJSON: documentJson.body,
						width: 640,
						height: 480,
						scale: 0.5,
						container: containerSmall2
					})
				}
			}
			main()
		</script>
	</body>
</html>