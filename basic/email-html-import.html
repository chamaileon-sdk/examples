<html>
	<head>
		<title>HTML Import - Chamaileon SDK</title>
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
		<link href="/css/style.css" rel="stylesheet">

		<style>
			#example {
				display: none;
			}

			#exampleJson {
				width: 48%;
				height: 300px;
			}

			#content {
				display: flex;
				justify-content: space-between;
			}

			#description {
				width: 48%;
			}

			#import iframe {
				width: 100%;
				height: 500px;
			}
		</style>
	</head>
	<body>
		<header>
			<a id="github-link" href="https://github.com/chamaileon-sdk/examples"><img loading="lazy" width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_left_white_ffffff.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
			<div id="logo-wrapper">
				<a href="/">
					<div id="logo"></div>
					<div id="logo-badge">SDK Examples</div>
				</a>
			</div>
			<button id="settings-button">Settings</button>
		</header>
		<main id="main">
			<h1>Email HTML Import</h1>

			<section id="content">
				<textarea id="exampleJson"></textarea>
				<div id="description">
					<p>Click on the 'Open HTML Importer' button to initialize.</p>
					<p>When the import is ready, it will appear in the textarea on the left hand side.</p>
					<button id="showExample">Open HTML Importer</button>
				</div>
			</section>
			<div id="import"></div>
		</main>
		<footer>
			All rights reserved.
			<div id="footer-logo"></div>
		</footer>

		<script src='https://plugins.chamaileon.io/static/chamaileonSdk.js'></script>
		<script src="/js/chamaileonLogo.js"></script>
		<script src="/js/initDemo.js"></script>
		<script src="/js/initChamaileonSDK.js"></script>
		<script>
			async function main() {
				const chamaileonPlugins = await initChamaileonSdk()
	
				const exampleJsonTextArea = document.getElementById('exampleJson')

				const showExampleButton = document.getElementById('showExample')
				showExampleButton.onclick = () => {
					chamaileonPlugins.openHtmlImport({
						container: document.getElementById('import'),
						hooks: {
							onImportFinished: (params) => {
								exampleJsonTextArea.value = JSON.stringify(params.mailJSON)
							}
						}
					})
				}
			}
			main()
		</script>
	</body>
</html>